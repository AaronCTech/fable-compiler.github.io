<!doctype html>
<html>

<head>
  <title>Fable Blog</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Josefin+Sans:400,300,600,700|Roboto+Mono">
  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="/css/bulma.custom.css">
  <link rel="stylesheet" type="text/css" href="/css/highlight.css">
  <link rel="shortcut icon" href="/img/shared/fable.ico" />
  <script src="https://cdn.polyfill.io/v2/polyfill.js?features=default,fetch"></script>
</head>

<body>
  <nav class="navbar"><div class="navbar-brand"><div class="navbar-item title is-4">Fable</div><div class="navbar-burger" data-target="navMenu"><span></span><span></span><span></span></div></div><div id="navMenu" class=" navbar-menu"><div class="navbar-start"><a class=" navbar-item" href="/">Home</a><a class=" navbar-item" href="/repl">REPL</a><a class=" navbar-item is-active" href="/blog">Blog</a><a class=" navbar-item" href="/docs">Docs</a><a class=" navbar-item" href="/api">API</a><a class=" navbar-item" href="/samples-browser">Samples</a><a class=" navbar-item" href="/fableconf">FableConf</a></div><div class="navbar-end"><div class="navbar-item"><div class="field is-grouped"><p class="control"><a class="button twitter" href="https://twitter.com/FableCompiler"><span class="icon"><i class="fa fa-twitter"></i></span><span>Share the love!</span></a></p><p class="control"><a class="button github" href="https://gitter.im/fable-compiler/Fable"><span class="icon"><i class="fa fa-comments"></i></span><span>Chat</span></a></p><p class="control"><a class="button github" href="https://github.com/fable-compiler/Fable"><span class="icon"><i class="fa fa-github"></i></span><span>Contribute</span></a></p></div></div></div></div></nav>
  <div class="markdown" style="overflow:hidden;"><section class="hero fable-header"><div class="hero-body"><div class="container"><div class="columns is-vcentered"><div class="column"><img class="fable-logo" src="/img/shared/fable_logo.png"/></div><div class="column has-text-right"><h1 class="title is-1">Paket integration</h1><h1 class="subtitle is-4">Manage your Fable libraries like a pro</h1></div></div></div></div></section><div style="margin-top:1.6rem;"><div class="columns"><div class="column"></div><div class="column is-two-thirds"><div class="content" style="margin:5px;"><p>Fable 1.0 beta has been out in the wild for several weeks now and the community has already provided very valuable feedback. Some people are concerned about the mix of .NET and JS tools, as it can be a bit confusing if you are used to a single ecosystem. This is actually a good thing(TM), because the effort you put to learn about dotnet SDK or Webpack is not exclusive to Fable, and can be reused for other .NET/JS projects. There are already big communities where you can get support from if you have an issue with the tooling as well.</p>
<p>However it&#39;s true there were some friction points we had to fix. The main one concerned Fable libraries: by nature they belong to the .NET ecosystem, but their destiny is to be converted to JS and must be distributed by source (Fable cannot read assemblies, only raw F# code), something Nuget (the register for .NET libraries) is not designed for. Because of these reasons, we&#39;ve been distributing libraries through npm so far, though this wasn&#39;t ideal either as npm obviously is not prepared for F# packages and it was creating other problems on its own.</p>
<h2><a name="paket" class="anchor" href="#paket">Paket</a></h2><p>We wanted to move libraries back to the .NET side of things, but Fable still needed some collaboration from the package manager to locate the packages and know the dependency order, something Nuget cannot offer. Also, Fable community was very concerned about the need of <strong>lock files</strong> to ensure reproducible builds of the samples and templates in all machines. Enter <a href="https://fsprojects.github.io/Paket/">Paket</a>, a package manager that has been around for a long time and it&#39;s the choice of trust for most F# projects (and also many C# ones). Its author, <a href="https://twitter.com/sforkmann">Steffen Forkmann</a>, is also a great Fable supporter and user and he&#39;s been really fast to implement the features needed by Fable. Thanks to this I&#39;m happy to announce Fable now comes with Paket integration, and the best thing is you may not even notice! Paket is also integrated with the dotnet SDK: you only need to run <code>dotnet restore</code> to download your packages (if you need to add or update dependencies, you can do it normally as with other Paket projects).</p>
<p>Fable simple (<code>Fable.Template</code>) and Elmish (<code>Fable.Template.Elmish.React</code>) templates have been updated to use Paket, download or update them to start enjoying reproducible builds and sane dependency management!</p>
<pre><code class="lang-shell">dotnet new -i Fable.Template::*
dotnet new fable -n MyProject
</code></pre>
<h2><a name="yarn" class="anchor" href="#yarn">Yarn</a></h2><p>Fable libraries will managed by Paket from now on, but we still need development tools like Webpack and other JS libraries from npm. Although not a strict requirement, yarn will be now the tool of choice for Fable samples and templates to manage JS packages, as it provides similar guarantees for reproducible builds as Paket thanks to the use of lock files.</p>
<blockquote>
<p>Please note that, unlike Paket, yarn requires a global installation in your system. Check <a href="https://yarnpkg.com/en/docs/install">their website</a> for details.</p>
</blockquote>
<h2><a name="for-library-authors" class="anchor" href="#for-library-authors">For library authors</a></h2><p>At the moment we&#39;re using a couple of conventions so Fable can handle the code from libraries:</p>
<ul>
<li>Fable libraries must be prefixed with <code>Fable</code> (e.g. <code>Fable.Elmish</code>).</li>
<li>The project file (with same name as the package) must be put together with the sources in a folder named <code>fable</code> within the package.</li>
</ul>
<p>The last point may look complicated, but it&#39;s only a matter of adding a <a href="https://github.com/fable-elmish/react/blob/1e97c734bfd943899958e1ca849974e3baea3500/src/Fable.Elmish.React.fsproj#L15-L19">couple of lines</a> to your project file and let the <code>dotnet pack</code> command do all the job :)</p>
<p><br /></p>
<p>With Paket integration, the workflow for Fable 1.0 is basically done and we are now ready to publish the stable release very soon after fixing last issues and updating the documentation. But remember you can already use Fable 1.0 for your projects just by downloading the templates and creating a new project with them.</p>
<p>And remember: <a href="https://www.eventbrite.es/e/fableconf-bordeaux-tickets-34089709238">FableConf</a> is approaching, get your ticket before it&#39;s too late!</p>
</div></div><div class="column"></div></div></div></div>
  <footer>
      <p> Fable <a href="https://github.com/fable-compiler/Fable">source code</a> is licensed <a href="http://opensource.org/licenses/mit-license.php">MIT</a>.</p>
  </footer>
  <script>
    // Activate navbar burget button
    document.addEventListener('DOMContentLoaded', function () {
      var $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);
      if ($navbarBurgers.length > 0) {
        $navbarBurgers.forEach(function ($el) {
          $el.addEventListener('click', function () {
            var target = $el.dataset.target;
            var $target = document.getElementById(target);
            $el.classList.toggle('is-active');
            $target.classList.toggle('is-active');
          });
        });
      }
    });
  </script>
</body>

</html>
