<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Alfonso Garcia-Caro">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-2.2.3.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <link href='https://fonts.googleapis.com/css?family=Josefin+Sans:400,300,600,700|Roboto+Mono' rel='stylesheet' type='text/css'>
    <link href="//fable.io/content/custom.css" rel='stylesheet' type='text/css'>
    <script src="//fable.io/content/tips.js"></script>
    <link rel="stylesheet" type="text/css" href="//fable.io/content/snippets.css" />
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" />
    <!--<script language="javascript" type="text/javascript">
      function init() {
          try {
            websocket = new WebSocket("ws://"+window.location.host+"/websocket");
            websocket.onmessage = function(evt) { location.reload(); };
          } catch(e) { /* For local development only */ }
      }
      window.addEventListener("load", init, false);
    </script>-->
    
  <title>Paket integration - F# |> BABEL</title>
  <meta name="description" content="Manage your Fable libraries like a pro">

</head>
<body>

  <div class="fable-navbar">
  <div class="container">
  <nav class="navbar navbar-default">
    <div class="navbar-wrapper">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="//fable.io">Fable</a>
      </div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
          <li class=""><a href="//fable.io">home</a></li>
          <li class=""><a href="//fable.io/samples.html">samples</a></li>
          <li class=""><a href="//fable.io/docs.html">docs</a></li>
          <li class=""><a href="//fable.io/blog.html">blog</a></li>
        </ul>
      </div>
    </div>
  </nav>
  </div>
  </div>

  <div class="fable-content-wrapper">
  
<div class="fable-heading">
<div class="container">
  <div class="row">
    <div class="col-sm-12">
      <h1>Paket integration</h1>
      <p>Manage your Fable libraries like a pro</p>
      <p class="links">
        <a href="https://twitter.com/FableCompiler"><i class="fa fa-twitter"></i> follow</a>
        <a href="https://github.com/fable-compiler/Fable"><i class="fa fa-github"></i> contribute</a>
        <a href="https://gitter.im/fable-compiler/Fable"><i class="fa fa-comments"></i> chat</a>
      </p>
    </div>
  </div>
</div>
</div>

<div class="container fable-content">
  <div class="row">
    <div class="col-md-1 col-lg-2"></div>
    <div class="col-sm-12 col-md-10 col-lg-8">
      <p>Fable 1.0 beta has been out in the wild for several weeks now and the community has already provided very valuable feedback. Some people are concerned about the mix of .NET and JS tools, as it can be a bit confusing if you are used to a single ecosystem. This is actually a good thing(TM), because the effort you put to learn about dotnet SDK or Webpack is not exclusive to Fable, and can be reused for other .NET/JS projects. There are already big communities where you can get support from if you have an issue with the tooling as well.</p>
<p>However it's true there were some friction points we had to fix. The main one concerned Fable libraries: by nature they belong to the .NET ecosystem, but their destiny is to be converted to JS and must be distributed by source (Fable cannot read assemblies, only raw F# code), something Nuget (the register for .NET libraries) is not designed for. Because of these reasons, we've been distributing libraries through npm so far, though this wasn't ideal either as npm obviously is not prepared for F# packages and it was creating other problems on its own.</p>
<h2><a name="Paket" class="anchor" href="#Paket">Paket</a></h2>
<p>We wanted to move libraries back to the .NET side of things, but Fable still needed some collaboration from the package manager to locate the packages and know the dependency order, something Nuget cannot offer. Also, Fable community was very concerned about the need of <strong>lock files</strong> to ensure reproducible builds of the samples and templates in all machines. Enter <a href="https://fsprojects.github.io/Paket/">Paket</a>, a package manager that has been around for a long time and it's the choice of trust for most F# projects (and also many C# ones). Its author, <a href="https://twitter.com/sforkmann">Steffen Forkmann</a>, is also a great Fable supporter and user and he's been really fast to implement the features needed by Fable. Thanks to this I'm happy to announce Fable now comes with Paket integration, and the best thing is you may not even notice! Paket is also integrated with the dotnet SDK: you only need to run <code>dotnet restore</code> to download your packages (if you need to add or update dependencies, you can do it normally as with other Paket projects).</p>
<p>Fable simple (<code>Fable.Template</code>) and Elmish (<code>Fable.Template.Elmish.React</code>) templates have been updated to use Paket, download or update them to start enjoying reproducible builds and sane dependency management!</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip"><code lang="shell">dotnet new -i Fable.Template::*
dotnet new fable -n MyProject
</code></pre></td></tr></table>
<h2><a name="Yarn" class="anchor" href="#Yarn">Yarn</a></h2>
<p>Fable libraries will managed by Paket from now on, but we still need development tools like Webpack and other JS libraries from npm. Although not a strict requirement, yarn will be now the tool of choice for Fable samples and templates to manage JS packages, as it provides similar guarantees for reproducible builds as Paket thanks to the use of lock files.</p>
<blockquote>
<p>Please note that, unlike Paket, yarn requires a global installation in your system. Check <a href="https://yarnpkg.com/en/docs/install">their website</a> for details.</p>
</blockquote>
<h2><a name="For-library-authors" class="anchor" href="#For-library-authors">For library authors</a></h2>
<p>At the moment we're using a couple of conventions so Fable can handle the code from libraries:</p>
<ul>
<li>Fable libraries must be prefixed with <code>Fable</code> (e.g. <code>Fable.Elmish</code>).</li>
<li>The project file (with same name as the package) must be put together with the sources in a folder named <code>fable</code> within the package.</li>
</ul>
<p>The last point may look complicated, but it's only a matter of adding a <a href="https://github.com/fable-elmish/react/blob/1e97c734bfd943899958e1ca849974e3baea3500/src/Fable.Elmish.React.fsproj#L15-L19">couple of lines</a> to your project file and let the <code>dotnet pack</code> command do all the job :)</p>
<br />
<p>With Paket integration, the workflow for Fable 1.0 is basically done and we are now ready to publish the stable release very soon after fixing last issues and updating the documentation. But remember you can already use Fable 1.0 for your projects just by downloading the templates and creating a new project with them.</p>
<p>And remember: <a href="https://www.eventbrite.es/e/fableconf-bordeaux-tickets-34089709238">FableConf</a> is approaching, get your ticket before it's too late!</p>



    </div>
    <div class="col-md-1 col-lg-2"></div>
  </div>
</div>

  </div>

  <a class="gh-forkme" href="https://github.com/fable-compiler/Fable"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>
</body>
</html>
